---
title: HHKB BLE MOD by yang
author: Kenya Hondoh
date: 2022-06-06
hero: ./ydkb.png
excerpt: hhkb のコントローラを変えていき
slug: ydkb-hhkb-ble-mod
---

愛用する HHKB のコントローラ（キーボードの物理的な信号を、パソコンとかが認識できる信号として USB とかで出力してくれる機器）を *Alternative Controller for HHKB* by hasu から *HHKB BLE MOD* by yang に変えました。
その過程でいろいろあったのでその話を書きたいと思います。

ydkb それ自体の話はあまりしないので、機能や使い勝手をイメージしたい方は [ドキュメント](https://ydkb.io/help/#/) を読むのをおすすめします。

### hasu から yang へ、コントローラ換装の動機

もともとピュアな HHKB Professional 2 を使っていたのですが、hasu コントローラで

- 無線化（Bluetooth 接続）
- ビルトインのキーマップ変更

ができるということを知り、換装しました。

しかし、hasu コントローラの消費電力は激しく、フル充電後の無線接続は5~6時間くらいしか持たないので（3.7V/1000mA リポバッテリー使用時）、結局ずっと有線接続で使用していました。

その後、Yang さんという方がいろいろ工夫してこの課題に取り組み、その成果を **HHKB BLE MOD** として結実させました。

>BLE = Bluetooth Low Energy （Bluetooth の省電力化を実現する拡張仕様）の意

無線化信者なので買うことにしました。

2022/6/6 現在、[AliExpress](https://nl.aliexpress.com/item/1005004000607526.html?gatewayAdapt=glo2nld) で ￥13,000 前後で購入することができます。

### 購入～届く

AliExpress で購入し、3週間ほどで届きました。

![](./ydkb-board.png)

### まさかのショート、回路素子の破損

リポバッテリーを装着する際に、+/- 極を間違えて挿入してしまいました。

その結果発煙（回路素子が破損）し、キーボードの入力をいっさい受け付けない状態になってしまいました。

![](./warning.png)

基板にはわざわざ警告があるのに

### 破損個所の特定

電子工作にはまったく精通していないものの、ショートによる回路素子の故障は交換することで治せるという Google 巨人の教えに従い、破損個所の特定を進めることにしました。

幸いなことに今回は、発煙した周辺の回路素子の外観に破裂したような形跡が見られたので、それが破損個所であると推定しました。

そして基板上の文字から、それが SD（ショートキーダイオード）であることがわかりました。

>![](./broken.png)
> 破損部位。箱状の素子の中央部分に破裂したような形跡がある。

### 回路素子の調達

いろいろ頑張った結果、このショートキーダイオードは 40V/1A というスペックを持つことがわかったので、秋葉原の秋月電子通商で代替品を購入しました。

### はんだづけ

1~2mm のダイオードを、泣きながらはんだづけしました。

### 復活

付け焼き刃パワーでなんとか復活し、キーボードとして使えるようになりました。

### 使用感

`TODO: もうすぐしたら記事を書きます`

### まとめ

`TODO: もうすぐしたら記事を書きます`